// ==========================================================================
// Mixins utilitaires
// ==========================================================================
@use "variables" as *;

// --------------------------------------------------------------------------
// Responsive - Desktop-first (max-width)
// --------------------------------------------------------------------------
@mixin respond-to($breakpoint) {
  @if $breakpoint == "wide" {
    @media (max-width: $bp-wide) {
      @content;
    }
  } @else if $breakpoint == "desktop" {
    @media (max-width: $bp-desktop) {
      @content;
    }
  } @else if $breakpoint == "tablet" {
    @media (max-width: $bp-tablet) {
      @content;
    }
  } @else if $breakpoint == "mobile" {
    @media (max-width: $bp-mobile) {
      @content;
    }
  }
}

// --------------------------------------------------------------------------
// Flexbox centré
// --------------------------------------------------------------------------
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

// --------------------------------------------------------------------------
// Transition thème (background, couleur, bordure)
// --------------------------------------------------------------------------
@mixin theme-transition {
  transition:
    background-color var(--transition-normal),
    color var(--transition-normal),
    border-color var(--transition-normal);
}

// --------------------------------------------------------------------------
// Masqué visuellement (accessible aux lecteurs d'écran)
// --------------------------------------------------------------------------
@mixin visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// --------------------------------------------------------------------------
// Texte tronqué (ellipsis)
// --------------------------------------------------------------------------
@mixin text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// --------------------------------------------------------------------------
// Hover : uniquement sur devices avec souris (exclut mobile tactile)
// --------------------------------------------------------------------------
@mixin on-hover {
  @media (hover: hover) {
    @content;
  }
}

// --------------------------------------------------------------------------
// Focus visible accessible
// --------------------------------------------------------------------------
@mixin focus-visible {
  &:focus-visible {
    outline: 2px solid var(--color-accent-primary);
    outline-offset: 2px;
  }
}
